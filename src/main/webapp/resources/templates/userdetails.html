<!DOCTYPE html>
<html lang="en">
<head>
    <title>Szczegóły użytkownika</title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>

    <script src="/jquery/3.4.1/jquery.slim.min.js"></script>
    <script src="/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="/bootstrap/4.4.1/css/bootstrap.min.css">
</head>
<body>

<div class="card m-2 p-2 mx-auto">
    <nav class="navbar navbar-light bg-light m-1 p-1">
        <div class="card-body text-center">
            <img data-th-src="@{/images/logo_autogps.png}" style="max-width: 25%; height: 100px;">
        </div>
    </nav>
</div>

<div class="card text-center mx-auto m-2 p-2 w-50">

    <form data-th-action="@{/customer/userscontrolpanel/userdetails/{username}(username=${user.username})}" action="#" method="post">
        <div class="form-group row justify-content-md-center">
            <label for="userUsername" class="col-sm-2 col-form-label">Nazwa użytkownika</label>
            <div class="col-sm-4">
                <input type="text" class="form-control" id="userUsername" data-th-value="${user.username}" readonly>
            </div>
        </div>
        <div class="form-group row justify-content-md-center">
            <label for="oldUserPassword" class="col-sm-2 col-form-label">Stare hasło:</label>
            <div class="col-sm-4">
                <input type="password" class="form-control" id="oldUserPassword" data-th-field="*{passwordChangerHelper.oldPassword}" required>
            </div>
        </div>
        <div class="form-group row justify-content-md-center">
            <label for="newUserPassword" class="col-sm-2 col-form-label">Nowe hasło:</label>
            <div class="col-sm-4">
                <input type="password" class="form-control" id="newUserPassword" data-th-field="*{passwordChangerHelper.newPassword}" required>
            </div>
        </div>
        <div class="form-group row justify-content-md-center">
            <label for="newUserPassword2" class="col-sm-2 col-form-label">Powtórz nowe hasło:</label>
            <div class="col-sm-4">
                <input type="password" class="form-control" id="newUserPassword2" data-th-field="*{passwordChangerHelper.newPassword2}" required>
            </div>
        </div>

        <block data-th-if="${user.username} != 'admin'">
        <div class="form-group row justify-content-md-center">
            <label for="enabled" class="col-sm-2 col-form-label">Konto Aktywne?</label>
            <div class="col-sm-4">
                <input type="checkbox" class="form-control" id="enabled" data-th-field="*{user.enabled}">
            </div>
        </div>
        <div class="form-group row justify-content-md-center">
            <label for="userRole" class="col-sm-2 col-form-label">Poziom uprawnień</label>
            <div class="col-sm-4">
                <select name="authority">
                    <option data-th-each="userRole : ${T(pl.michalgoldys.customercontrolsystem.UserRoles).values()}"
                            data-th-value="${userRole}"
                            data-th-text="${userRole.name}"
                            id="userRole"
                            name="userRole">
                    </option>
                </select>
            </div>
        </div>
        </block>

        <div class="card text-center mx-auto m-2 p-2 w-50">
            <a class="btn btn-light m-2" data-th-href="@{/customer/userscontrolpanel}" role="button">Powrót</a>
            <button class="btn btn-success m-2" type="submit">Zapisz zmiany</button>
        </div>
    </form>

</div>

<div class="card m-3 p-3 mx-auto w-25">
    <div class="badge badge-light mx-auto">
        Copyright © Michał Gołdys, 2020y.
    </div>
</div>

</body>
</html>