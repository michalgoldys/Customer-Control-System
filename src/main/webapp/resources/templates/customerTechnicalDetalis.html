<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<link data-th-href="@{/css/comicGreenShowingCustomers.css}" rel="stylesheet"/>
<head>
    <title>Wyswietlanie Kontrahentow</title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" rel="stylesheet">
<body>

<div class="card m-2 p-2">
    <nav class="navbar navbar-light bg-light m-1 p-1">
        <div class="card-body text-center">
            <img data-th-src="@{/images/logo_autogps.png}" style="max-width: 25%; height: 100px;">
        </div>
    </nav>
</div>

<form action="#" data-th-action="@{/customer/customerTechnicalPanel/customerTechnicalDetalis(id=${selectedCustomerId})}"
      data-th-method="POST" role="form">

    <div class="card text-center m-2 p-2 w-50 mx-auto">
        <table class="table table-striped">

            <thead data-th-each="ct : ${selectedCustomerById}" style="width: 20%">

            <tr>
                <th>*Wlasciwosci Obiektu*</th>
                <th></th>
            </tr>

            <tr>
                <th>ID</th>
                <td data-th-text="*{ct.customerId}"></td>
            </tr>

            <tr>
                <th>Numer Umowy</th>
                <td data-th-text="*{ct.customerContractId}"></td>
            </tr>

            <tr>
                <th>Numer PDF</th>
                <td data-th-text="*{ct.customerContractPdfId}"></td>
            </tr>

            </thead>
            <tbody data-th-each="ct : ${selectedCustomerById}">

            <tr>
                <th>*Dane Firmy*</th>
                <th></th>
            </tr>

            <tr>
                <th>Nazwa Firmy</th>
                <td data-th-text=*{ct.customerName}></td>
            </tr>

            <tr>
                <th>NIP</th>
                <td data-th-text="*{ct.customerNip}"></td>
            </tr>

            <tr>
                <th>*Zgloszenia*</th>
                <th>
                    <span data-th-if="${isEmpty == true}">BRAK WPISOW</span>
                </th>
            </tr>

            <th:block data-th-if="${isEmpty == false}">
                <th:block data-th-each="ctc : ${ct.CustomerTechnicalPanel}">
                    <tr>
                        <th>Data Wpisu</th>
                        <th data-th-text="*{ctc.customerTechnicalIssueOccourDate}"></th>
                    </tr>

                    <tr>
                        <th>Opis</th>
                        <th data-th-text="*{ctc.customerTechnicalIssueDescribtion}">
                        </th>
                    </tr>
                </th:block>
            </th:block>

            </tbody>
        </table>
        <a class="btn btn-success w-25 mx-auto m-2" data-th-href="@{/customer/customerTechnicalPanel/customerTechnicalDetalis/{customerSelectionId}/addingTechnicalEvent(customerSelectionId=${customerSelectionId})}"
           role="button">
            Dodaj Nowy Wpis</a>
        <a class="btn btn-light w-25 mx-auto m-2" data-th-href="@{/customer/customerTechnicalPanel}" role="button">Anuluj
        </a>

    </div>
</form>

<div class="card m-3 p-3 mx-auto">
    <div class="badge badge-light mx-auto">
        Copyright © Michał Gołdys, 2020y.
    </div>
</div>

<script crossorigin="anonymous"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        src="https://code.jquery.com/jquery-3.4.1.slim.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script crossorigin="anonymous"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
</body>
</html>